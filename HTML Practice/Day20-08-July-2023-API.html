<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/global/global.css">
    <link rel="icon" href="/picture/icon-boss.png">
    <title>API</title>
</head>
<body>
    <div class="rwd-title">
        <h1>API</h1>
    </div>
    <div class="rwd-navbar">
        <a href="">Link1</a>
        <a href="">Link2</a>
        <a href="">Link3</a>
        <a href="">Link4</a>

    </div>
    <div class="rwd-main">
        <h2>Geolocation API</h2>
        <hr>
        <p id="userLocation"></p>
        <button onclick="getLocation()">Display where you are</button>
        <script>
            let userLocation = document.getElementById("userLocation");
            function getLocation(){
                if (navigator.geolocation)
                    navigator.geolocation.getCurrentPosition(showPosition,errorPositon);
                else
                    userLocation.innerHTML = "不支援Geolocation定位功能";
            }
            function showPosition(position){
                userLocation.innerHTML = `發現你在<br>經度:${position.coords.latitude}<br>緯度:${position.coords.longitude}`;
            }
            function errorPositon(error){
                // console.log(error + ": " + error.code)
                switch(error.code){
                    case error.PERMISSION_DENIED:
                        userLocation.innerHTML = "使用者拒絕存取位置!";
                        break;
                    case error.POSITION_UNAVAILABLE:
                        userLocation.innerHTML = "位置不可使用";
                        break;
                    case error.TIMEOUT:
                        userLocation.innerHTML = "請求超時";
                        break;
                    case error.UNKNOWN_ERROR:
                        userLocation.innerHTML = "不知名異常";
                        break;
                }

            }
        </script>
    </div>
    <div class="rwd-aside">
        <h2>Music</h2>
        <hr>

    </div>
    <div class="rwd-footer">
        Copyright
    </div>
</body>
</html>